!function($){$(document).ready(function(){function i(i){i.addClass("hidden")}function t(i){var t=$('<ul id="image-builder-tabs"><li class="icons"><span class="dashicons dashicons-forms"></span></li><li class="content"><span class="dashicons dashicons-text"></span></li><li class="show-hide-spotlight"><span class="dashicons dashicons-visibility"></span></li></ul>');1!==$("#image-builder-tabs").length&&t.insertBefore($(i).find($("li[id*=customize-control-builder-options_image-parts-content-type]")));var o=$(i).find("li[id*=customize-control-builder-options_image-show-spotlight]").addClass("hidden");$(i).find($("li[id*=customize-control-builder-options_image-icon-type-]")).wrapAll('<ul id="image-icon-options" class="clearfix"></ul>');var s=$(i).find("li[id*=customize-control-builder-options_image-spotlight-icon-type]");$(i).find("#image-icon-options").addClass("image-options-wrapper").appendTo(s),s.find("> label > .customize-control-title").remove(),s.find("p.description").remove(),$(i).find($("li[id*=customize-control-builder-options_image-content-type-]")).wrapAll('<ul id="image-content-options" class="clearfix"></ul>');var e=$(i).find("li[id*=customize-control-builder-options_image-parts-content-type]");$(i).find("#image-content-options").addClass("image-options-wrapper").appendTo(e),e.find("> label > .customize-control-title").remove(),e.find("p.description").remove();var n=$(i).find("li[id*=customize-control-builder-options_thumb-spotlight-type]"),d=n.find("select");o.find("input").prop("checked")===!0?($(".show-hide-spotlight").removeClass("active"),$(".disabled-line").remove(),o.find("input").prop("checked",!0).val(1).trigger("change"),e.add(t.find("li.icons")).add(t.find("li.content")).add(s).removeClass("spotlight-disabled"),$(".show-hide-spotlight").attr("data-toggled","off")):($(".show-hide-spotlight").addClass("active"),o.find("input").prop("checked",!1).val(0).trigger("change"),e.add(s).append('<div class="disabled-line"></div>'),e.add(t.find("li.icons")).add(t.find("li.content")).add(s).addClass("spotlight-disabled"),$(".show-hide-spotlight").attr("data-toggled","on")),t.find("li").click(function(){"icons"===$(this).attr("class")?(t.find("li").removeClass("active"),$(this).addClass("active"),d.val("icons").trigger("change"),s.removeClass("hidden"),e.addClass("hidden")):"content"===$(this).attr("class")?(t.find("li").removeClass("active"),$(this).addClass("active"),d.val("content").trigger("change"),s.addClass("hidden"),e.removeClass("hidden")):$(this).hasClass("show-hide-spotlight")&&($(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(".disabled-line").remove(),o.find("input").prop("checked",!0).val(1).trigger("change"),e.add(t.find("li.icons")).add(t.find("li.content")).add(s).removeClass("spotlight-disabled"),$(this).attr("data-toggled","off")):($(this).addClass("active"),o.find("input").prop("checked",!1).val(0).trigger("change"),e.add(s).append('<div class="disabled-line"></div>'),e.add(t.find("li.icons")).add(t.find("li.content")).add(s).addClass("spotlight-disabled"),$(this).attr("data-toggled","on")))})}function o(i){var t=$(i).find("#image-builder-tabs"),o=$(i).find("li[id*=customize-control-builder-options_image-spotlight-icon-type]"),s=$(i).find("li[id*=customize-control-builder-options_image-parts-content-type]"),e=$(i).find("li[id*=customize-control-builder-options_thumb-spotlight-type]"),n=e.find("select");"icons"===n.val()?(t.find("li.icons").addClass("active"),o.removeClass("hidden"),s.addClass("hidden")):"content"===n.val()&&(t.find("li.content").addClass("active"),o.addClass("hidden"),s.removeClass("hidden"))}function s(t){t.find($("li[id*=toggle-heading-]")).each(function(){$(this).nextUntil($("li[id*=toggle-heading-]")).addClass("hidden"),$(this).append('<span class="dashicons dashicons-plus"></span>')}),t.find($("li[id*=toggle-heading-]")).toggle(function(){$(this).find(".dashicons").removeClass("dashicons-plus").addClass("dashicons-minus"),$(this).addClass("open").nextUntil($("li[id*=toggle-heading-]")).removeClass("hidden"),i($(this).siblings("li[id*=-hide-]")),$(this).is("li[id*=customize-control-builder-options_toggle-heading-build-spotlight]")&&o($(t))},function(){$(this).find(".dashicons").removeClass("dashicons-minus").addClass("dashicons-plus"),$(this).removeClass("open").nextUntil($("li[id*=toggle-heading-]")).addClass("hidden")})}var e=$("#customize-preview");e.prepend('<div class="loading-overlay" style="display: none"><div><img src="wp-content/plugins/views-builder/images/loading.gif" /><p>&nbsp;&nbsp;Working..</p></div></div>');var n=e.find(".loading-overlay");setInterval(function(){if(1!==e.children("iframe").length)n.show(),e.addClass("loading");else{n.hide();var i=$(".customizer-toolbar.bottom").outerHeight();$("#customize-preview iframe").contents().find("html").css("paddingBottom",i+10),e.removeClass("loading"),e.addClass("loaded")}},1e3);var d=["title","image","excerpt","date","time","categories","tags","post-format","author","avatar","comments","share","likes","readmore","wc-price","wc-rating","wc-sale-flash","wc-add-to-cart"],a=["btn1","btn2","btn3","btn4"];setTimeout(function(){$("li[id*=accordion-section-builder]").each(function(i,t){$.each(a,function(i,o){$(t).find($("li[id*=customize-control-builder-options_"+o+"-option-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+o+'-options" class="clearfix"></ul>');var s=$(t).find($("li[id*=customize-control-builder-options_image-spotlight-icon-type-icons-] li."+o));$(t).find("#"+o+"-options").addClass("image-options builder-options").appendTo(s).hide(),s.find(".dashicons-admin-generic").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".image-options").fadeOut()):($(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".image-options").fadeIn())})})}),$("li[id*=accordion-section-builder]").each(function(o,e){function n(i,t){var o=i.find("select");"meta_value"===o.val()||"meta_value_num"===o.val()?$(i).siblings("li[id*=customize-control-builder-options_postopts-order-meta-key-]").removeClass("hidden"):$(i).siblings("li[id*=customize-control-builder-options_postopts-order-meta-key-]").addClass("hidden")}function a(i,t,o){var s=i.find(".active input");"carousel"===s.val()||"grid"===s.val()||"simple-masonry"===s.val()?t.find(o).removeClass("hidden"):t.find(o).addClass("hidden")}function l(i){var t=$(i).find("li[id*=customize-control-builder-options_id-hide-] .description").text(),o=$("#customize-preview");$(i).hover(function(){var i=$(this).find("li[id*=customize-control-builder-options_id-hide-] h3").text();o.children("iframe").contents().find("#view-"+t).prepend('<div class="hover-inspector inspector-view"><div class="inspector-info">'+i+"</div></div>")},function(){o.children("iframe").contents().find("#view-"+t).find(".hover-inspector").remove()})}var c=$('<ul id="posts-toolbar-options-'+$(this).attr("id")+'" class="customizer-toolbar top"></ul>');c.prependTo(".wp-full-overlay").hide(),$(this).find("li[id*=customize-control-builder-options_postopts]").each(function(){$(this).remove().appendTo(c)});var r=$('<ul id="pagination-toolbar-options-'+$(this).attr("id")+'" class="customizer-toolbar bottom"></ul>');r.appendTo(".wp-full-overlay").hide(),$(this).find("li[id*=customize-control-builder-options_pagination]").each(function(){$(this).remove().prependTo(r)}),$(".customizer-toolbar li").hover(function(){var i=$(this).find(".description").not(".customize-control-description");""!==i.text()&&i.show().addClass("vb-tooltip")},function(){var i=$(this).find(".description").not(".customize-control-description");i.hide().removeClass("vb-tooltip")}),l($(this));var p=$(e).find("li[id*=customize-control-builder-options_id-hide-] .description").text(),h=$("#customize-preview");$(e).find("li[id*=customize-control-builder-options_builder_parts] li").hover(function(){var i=$(this).attr("data-value");i=i.replace(/-/g," "),h.children("iframe").contents().find("#view-"+p+" ."+i+"-part").addClass("hover-inspector part").prepend('<div class="inspector-info part">'+i+"</div>")},function(){h.children("iframe").contents().find("#view-"+p+" .vb-part").removeClass("hover-inspector").find(".inspector-info").remove()}),$(this).click(function(){$(".customizer-toolbar").hide(),i($(this).find("li[id*=-hide-]")),$("#posts-toolbar-options-"+$(this).attr("id")).show();var t=$("#posts-toolbar-options-"+$(this).attr("id")).outerHeight();$("#customize-preview").css("marginTop",t),$("#pagination-toolbar-options-"+$(this).attr("id")).show();var o=$("#posts-toolbar-options-"+$(this).attr("id")).outerHeight();$("#customize-preview iframe").contents().find("html").css("paddingBottom",o+10);var s=$("#posts-toolbar-options-"+$(this).attr("id")),e=$("#posts-toolbar-options-"+$(this).attr("id")).find("li[id*=customize-control-builder-options_postopts-order-by]");n(e,s);var d=$(this).find("li[id*=customize-control-builder-options_view-layout]"),l=$("li[id*=customize-control-builder-options_postopts-columns]");a(d,s,l)}),$("li[id*=customize-control-builder-options_postopts-order-by]").change(function(){n($(this))}),$("li[id*=customize-control-builder-options_postopts-post-categories] .customize-control-title").toggle(function(){$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").find("input").prop("checked")===!0&&$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().addClass("hidden"),$(this).addClass("active").next(".tf-multicheck-container").removeClass("hidden")},function(){$(this).removeClass("active").next(".tf-multicheck-container").addClass("hidden")}),$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container p").first().find("input").change(function(){$(this).prop("checked")===!0?$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().addClass("hidden"):$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().removeClass("hidden")}),$(this).find("li[id*=customize-control-builder-options_image-option-thumbnail-width]").before('<li id="customize-control-builder-options_image-option-sizing-heading" class="help"><h3>Dimensions</h3><p class="description">Set the thumbnail dimensions manually or use auto size which makes each image the width of the article (Needs container width).</p></li>'),t($(e)),$.each(d,function(i,t){$(e).find($("li[id*=customize-control-builder-options_"+t+"-option-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+t+'-options" class="clearfix"></ul>');var o=$(e).find($("li[id*=customize-control-builder-options_builder_parts] li."+t));$(e).find("#"+t+"-options").addClass("part-options builder-options").appendTo(o).hide(),o.find(".dashicons-admin-generic").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".part-options").fadeOut()):(o.find(".style-options").fadeOut(),$(this).siblings(".dashicons-admin-appearance").removeAttr("data-toggled").removeClass("active"),$(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".part-options").fadeIn())}),$(e).find($("li[id*=customize-control-builder-options_"+t+"-styles-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+t+'-styles" class="clearfix"></ul>'),$(e).find("#"+t+"-styles").addClass("style-options builder-options").appendTo(o).hide(),o.find(".dashicons-admin-appearance").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".style-options").fadeOut()):(o.find(".part-options").fadeOut(),$(this).siblings(".dashicons-admin-generic").removeAttr("data-toggled").removeClass("active"),$(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".style-options").fadeIn())})}),$(this).find("li[id*=customize-control-builder-options_view-layout]").find(".tf-radio-image").each(function(){$(this).find("input").attr("checked")&&$(this).addClass("active"),$(this).click(function(){var i=$(this).find("input").val(),t=$(this).parents(".accordion-section").attr("id");"carousel"==i||"grid"==i||"simple-masonry"==i?$("#posts-toolbar-options-"+t+" li[id*=customize-control-builder-options_postopts-columns]").removeClass("hidden"):$("#posts-toolbar-options-"+t+" li[id*=customize-control-builder-options_postopts-columns]").addClass("hidden"),$(this).siblings(".tf-radio-image").removeClass("active"),$(this).addClass("active")})}),s($(this))})},5e3)})}(jQuery);