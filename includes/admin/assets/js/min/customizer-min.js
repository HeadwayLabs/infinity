!function($){$(document).ready(function(){var i=$("#customize-preview");i.prepend('<div class="loading-overlay" style="display: none"><div><img src="wp-content/plugins/views-builder/images/loading.gif" /><p>&nbsp;&nbsp;Working..</p></div></div>');var t=i.find(".loading-overlay");setInterval(function(){if(1!==i.children("iframe").length)t.show(),i.addClass("loading");else{t.hide();var o=$(".customizer-toolbar.bottom").outerHeight();$("#customize-preview iframe").contents().find("html").css("paddingBottom",o+10),i.removeClass("loading"),i.addClass("loaded")}},1e3);var o=["title","image","excerpt","date","time","categories","tags","post-format","author","avatar","comments","share","likes","readmore","wc-price","wc-rating","wc-sale-flash","wc-add-to-cart"],s=["btn1","btn2","btn3","btn4"];$("li[id*=accordion-section-builder]").each(function(i,t){$.each(s,function(i,o){$(t).find($("li[id*=customize-control-builder-options_"+o+"-option-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+o+'-options" class="clearfix"></ul>');var s=$(t).find($("li[id*=customize-control-builder-options_image-spotlight-icon-type-icons-] li."+o));$(t).find("#"+o+"-options").remove().clone(!0).addClass("image-options builder-options").appendTo(s).hide(),s.find(".dashicons-admin-generic").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".image-options").fadeOut()):($(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".image-options").fadeIn())})})}),$("li[id*=accordion-section-builder]").each(function(i,t){function s(i,t){var o=i.find("select");"meta_value"===o.val()||"meta_value_num"===o.val()?$(i).siblings("li[id*=customize-control-builder-options_postopts-order-meta-key-]").removeClass("hidden"):$(i).siblings("li[id*=customize-control-builder-options_postopts-order-meta-key-]").addClass("hidden")}function e(i,t,o){var s=i.find(".active input");"carousel"===s.val()||"grid"===s.val()||"simple-masonry"===s.val()?t.find(o).removeClass("hidden"):t.find(o).addClass("hidden")}var n=$('<ul id="posts-toolbar-options-'+$(this).attr("id")+'" class="customizer-toolbar top"></ul>');n.prependTo(".wp-full-overlay").hide(),$(this).find("li[id*=customize-control-builder-options_postopts]").each(function(){$(this).remove().clone(!0).appendTo(n)});var a=$('<ul id="pagination-toolbar-options-'+$(this).attr("id")+'" class="customizer-toolbar bottom"></ul>');a.appendTo(".wp-full-overlay").hide(),$(this).find("li[id*=customize-control-builder-options_pagination]").each(function(){$(this).remove().clone(!0).prependTo(a)}),$(".customizer-toolbar li").hover(function(){var i=$(this).find(".description").not(".customize-control-description");""!==i.text()&&i.show().addClass("vb-tooltip")},function(){var i=$(this).find(".description").not(".customize-control-description");i.hide().removeClass("vb-tooltip")}),$(this).click(function(){$(".customizer-toolbar").hide(),$("#posts-toolbar-options-"+$(this).attr("id")).show();var i=$("#posts-toolbar-options-"+$(this).attr("id")).outerHeight();$("#customize-preview").css("marginTop",i),$("#pagination-toolbar-options-"+$(this).attr("id")).show();var t=$("#posts-toolbar-options-"+$(this).attr("id")).outerHeight();$("#customize-preview iframe").contents().find("html").css("paddingBottom",t+10);var o=$("#posts-toolbar-options-"+$(this).attr("id")),n=$("#posts-toolbar-options-"+$(this).attr("id")).find("li[id*=customize-control-builder-options_postopts-order-by]");s(n,o);var a=$(this).find("li[id*=customize-control-builder-options_view-layout]"),d=$("li[id*=customize-control-builder-options_postopts-columns]");e(a,o,d)}),$("li[id*=customize-control-builder-options_postopts-order-by]").change(function(){s($(this))}),$("li[id*=customize-control-builder-options_postopts-post-categories] .customize-control-title").toggle(function(){$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").find("input").prop("checked")===!0&&$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().addClass("hidden"),$(this).addClass("active").next(".tf-multicheck-container").removeClass("hidden")},function(){$(this).removeClass("active").next(".tf-multicheck-container").addClass("hidden")}),$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container p").first().find("input").change(function(){$(this).prop("checked")===!0?$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().addClass("hidden"):$("li[id*=customize-control-builder-options_postopts-post-categories] .tf-multicheck-container").find("p:first").nextAll().removeClass("hidden")}),$(this).find("li[id*=customize-control-builder-options_image-option-thumbnail-width]").before('<li id="customize-control-builder-options_image-option-sizing-heading" class="help"><h3>Dimensions</h3><p class="description">Set the thumbnail dimensions manually or use auto size which makes each image the width of the article (Needs container width).</p></li>'),$.each(o,function(i,o){if("image"===o){var s=$('<ul id="image-builder-tabs"><li class="icons"><span class="dashicons dashicons-welcome-view-site"></span></li><li class="content"><span class="dashicons dashicons-welcome-widgets-menus"></span></li><li class="show-hide-spotlight"><span class="dashicons dashicons-visibility"></span></li></ul>'),e=s.insertBefore($(t).find($("li[id*=customize-control-builder-options_image-parts-content-type]"))),n=$(t).find("li[id*=customize-control-builder-options_image-show-spotlight]").addClass("hidden");$(t).find($("li[id*=customize-control-builder-options_image-icon-type-]")).wrapAll('<ul id="'+o+'-icon-options" class="clearfix"></ul>');var a=$(t).find("li[id*=customize-control-builder-options_image-spotlight-icon-type]");$(t).find("#image-icon-options").remove().clone(!0).addClass("image-options-wrapper").appendTo(a),a.find("> label > .customize-control-title").remove(),a.find("p.description").remove(),$(t).find($("li[id*=customize-control-builder-options_image-content-type-]")).wrapAll('<ul id="'+o+'-content-options" class="clearfix"></ul>');var d=$(t).find("li[id*=customize-control-builder-options_image-parts-content-type]");$(t).find("#image-content-options").remove().clone(!0).addClass("image-options-wrapper").appendTo(d),d.find("> label > .customize-control-title").remove(),d.find("p.description").remove();var l=$(t).find("li[id*=customize-control-builder-options_thumb-spotlight-type]"),c=l.find("select");l.addClass("hidden"),"icons"===c.val()?(e.find("li.icons").addClass("active"),a.removeClass("hidden"),d.addClass("hidden")):"content"===c.val()&&(e.find("li.content").addClass("active"),a.addClass("hidden"),d.removeClass("hidden")),n.find("input").prop("checked")===!0?($(".show-hide-spotlight").removeClass("active"),$(".disabled-line").remove(),n.find("input").prop("checked",!0).val(1).trigger("change"),d.add(e.find("li.icons")).add(e.find("li.content")).add(a).removeClass("spotlight-disabled"),$(".show-hide-spotlight").attr("data-toggled","off")):($(".show-hide-spotlight").addClass("active"),n.find("input").prop("checked",!1).val(0).trigger("change"),d.add(a).append('<div class="disabled-line"></div>'),d.add(e.find("li.icons")).add(e.find("li.content")).add(a).addClass("spotlight-disabled"),$(".show-hide-spotlight").attr("data-toggled","on")),e.find("li").click(function(){"icons"===$(this).attr("class")?(e.find("li").removeClass("active"),$(this).addClass("active"),c.val("icons").trigger("change"),a.removeClass("hidden"),d.addClass("hidden")):"content"===$(this).attr("class")?(e.find("li").removeClass("active"),$(this).addClass("active"),c.val("content").trigger("change"),a.addClass("hidden"),d.removeClass("hidden")):$(this).hasClass("show-hide-spotlight")&&($(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(".disabled-line").remove(),n.find("input").prop("checked",!0).val(1).trigger("change"),d.add(e.find("li.icons")).add(e.find("li.content")).add(a).removeClass("spotlight-disabled"),$(this).attr("data-toggled","off")):($(this).addClass("active"),n.find("input").prop("checked",!1).val(0).trigger("change"),d.add(a).append('<div class="disabled-line"></div>'),d.add(e.find("li.icons")).add(e.find("li.content")).add(a).addClass("spotlight-disabled"),$(this).attr("data-toggled","on")))})}$(t).find($("li[id*=customize-control-builder-options_"+o+"-option-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+o+'-options" class="clearfix"></ul>');var r=$(t).find($("li[id*=customize-control-builder-options_builder_parts] li."+o));$(t).find("#"+o+"-options").remove().clone(!0).addClass("part-options builder-options").appendTo(r).hide(),r.find(".dashicons-admin-generic").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".part-options").fadeOut()):(r.find(".style-options").fadeOut(),$(this).siblings(".dashicons-admin-appearance").removeAttr("data-toggled").removeClass("active"),$(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".part-options").fadeIn())}),$(t).find($("li[id*=customize-control-builder-options_"+o+"-styles-]")).addClass("control-section accordion-section").wrapAll('<ul id="'+o+'-styles" class="clearfix"></ul>'),$(t).find("#"+o+"-styles").remove().clone(!0).addClass("style-options builder-options").appendTo(r).hide(),r.find(".dashicons-admin-appearance").on("click",function(){$(this).attr("data-toggled")&&"off"!==$(this).attr("data-toggled")?"on"===$(this).attr("data-toggled")&&($(this).removeClass("active"),$(this).attr("data-toggled","off").nextAll(".style-options").fadeOut()):(r.find(".part-options").fadeOut(),$(this).siblings(".dashicons-admin-generic").removeAttr("data-toggled").removeClass("active"),$(this).addClass("active"),$(this).attr("data-toggled","on").nextAll(".style-options").fadeIn())})}),$(this).find("li[id*=customize-control-builder-options_view-layout]").find(".tf-radio-image").each(function(){$(this).find("input").attr("checked")&&$(this).addClass("active"),$(this).click(function(){var i=$(this).find("input").val(),t=$(this).parents(".accordion-section").attr("id");"carousel"==i||"grid"==i||"simple-masonry"==i?$("#posts-toolbar-options-"+t+" li[id*=customize-control-builder-options_postopts-columns]").removeClass("hidden"):$("#posts-toolbar-options-"+t+" li[id*=customize-control-builder-options_postopts-columns]").addClass("hidden"),$(this).siblings(".tf-radio-image").removeClass("active"),$(this).addClass("active")})}),$(this).find($("li[id*=toggle-heading-]")).each(function(){$(this).nextUntil($("li[id*=toggle-heading-]")).addClass("hidden"),$(this).append('<span class="dashicons dashicons-plus"></span>')}),$(this).find($("li[id*=toggle-heading-]")).toggle(function(){$(this).find(".dashicons").removeClass("dashicons-plus").addClass("dashicons-minus"),$(this).addClass("open").nextUntil($("li[id*=toggle-heading-]")).removeClass("hidden")},function(){$(this).find(".dashicons").removeClass("dashicons-minus").addClass("dashicons-plus"),$(this).removeClass("open").nextUntil($("li[id*=toggle-heading-]")).addClass("hidden")})})})}(jQuery);